# 测试计划

## 测试目标
验证以下功能是否正常实现：
1. 所有页面标题与导航栏一致
2. 全局按钮样式统一为"编辑""使用""删除"
3. 历史价格查询增加时间选择功能，默认查询近20天

## 测试步骤

### 1. 页面标题与导航栏一致性测试

#### 测试页面：
- 首页 (`/`)
- 记账 (`/list`)
- 待收货 (`/pending`)
- 统计 (`/price`)
- 设置 (`/manage`)

#### 测试方法：
1. 访问每个页面
2. 检查浏览器标签页标题是否与导航栏对应项一致
3. 检查页面主标题是否与导航栏对应项一致

#### 预期结果：
| 页面 | 导航栏 | 页面标题 | 主标题 |
|------|--------|----------|--------|
| 首页 | 首页 | 首页 - 极简记账本 | 首页 |
| 记账 | 记账 | 记账 - 极简记账本 | 记账 |
| 待收货 | 待收货 | 待收货 - 极简记账本 | 待收货 |
| 统计 | 统计 | 统计 - 极简记账本 | 统计 |
| 设置 | 设置 | 设置 - 极简记账本 | 设置 |

### 2. 全局按钮样式一致性测试

#### 测试页面：
- 记账 (`/list`) - 操作按钮
- 设置 (`/manage`) - 渠道管理、账单类型管理、统计类型管理

#### 测试方法：
1. 访问上述页面
2. 检查所有操作按钮的文本
3. 验证按钮样式是否统一

#### 预期结果：
- 编辑按钮：使用"编辑"文本，黄色背景
- 使用按钮：使用"使用"文本，绿色背景
- 删除按钮：使用"删除"文本，红色背景

### 3. 历史价格查询时间选择功能测试

#### 测试页面：
- 统计 (`/price`)

#### 测试方法：
1. 访问统计页面
2. 检查是否显示开始日期和结束日期输入字段
3. 检查默认时间范围是否为近20天
4. 选择不同的时间范围并查询
5. 验证查询结果是否基于所选时间范围

#### 预期结果：
- 页面加载时默认显示近20天的时间范围
- 可以通过日期选择器修改时间范围
- 查询结果应包含所选时间范围内的数据
- 统计信息应基于所选时间范围内的数据

## 测试用例

### 测试用例 1：首页标题验证
- **测试步骤**：访问 `/`
- **预期结果**：
  - 浏览器标签页标题："首页 - 极简记账本"
  - 页面主标题："首页"
  - 导航栏"首页"项处于激活状态

### 测试用例 2：记账页面标题验证
- **测试步骤**：访问 `/list`
- **预期结果**：
  - 浏览器标签页标题："记账 - 极简记账本"
  - 页面主标题："记账"
  - 导航栏"记账"项处于激活状态

### 测试用例 3：待收货页面标题验证
- **测试步骤**：访问 `/pending`
- **预期结果**：
  - 浏览器标签页标题："待收货 - 极简记账本"
  - 页面主标题："待收货"
  - 导航栏"待收货"项处于激活状态

### 测试用例 4：统计页面标题验证
- **测试步骤**：访问 `/price`
- **预期结果**：
  - 浏览器标签页标题："统计 - 极简记账本"
  - 页面主标题："统计"
  - 导航栏"统计"项处于激活状态

### 测试用例 5：设置页面标题验证
- **测试步骤**：访问 `/manage`
- **预期结果**：
  - 浏览器标签页标题："设置 - 极简记账本"
  - 页面主标题："设置"
  - 导航栏"设置"项处于激活状态

### 测试用例 6：记账页面按钮样式验证
- **测试步骤**：访问 `/list`，查看操作按钮
- **预期结果**：
  - 编辑按钮：文本为"编辑"，黄色背景
  - 使用按钮：文本为"使用"，绿色背景
  - 删除按钮：文本为"删除"，红色背景

### 测试用例 7：设置页面按钮样式验证
- **测试步骤**：访问 `/manage`，查看各管理模块的按钮
- **预期结果**：
  - 所有编辑操作使用"编辑"按钮，黄色背景
  - 所有删除操作使用"删除"按钮，红色背景

### 测试用例 8：历史价格查询时间选择验证
- **测试步骤**：访问 `/price`
- **预期结果**：
  - 页面显示开始日期和结束日期输入字段
  - 默认开始日期为当前日期前19天
  - 默认结束日期为当前日期
  - 可以通过日期选择器修改时间范围
  - 点击"查询"按钮后，显示所选时间范围内的价格数据

### 测试用例 9：API 响应验证
- **测试步骤**：调用 `/api/consumption/type/<sub_type>?startDate=<start>&endDate=<end>` API
- **预期结果**：
  - API 应返回所选时间范围内的价格数据
  - 返回数据应包含 `success` 字段和 `data` 数组
  - `data` 数组中的每条记录应包含价格相关信息

## 测试结果记录

| 测试用例 | 测试结果 | 备注 |
|----------|----------|------|
| 1. 首页标题验证 | PASS | - |
| 2. 记账页面标题验证 | PASS | - |
| 3. 待收货页面标题验证 | PASS | - |
| 4. 统计页面标题验证 | PASS | - |
| 5. 设置页面标题验证 | PASS | - |
| 6. 记账页面按钮样式验证 | PASS | - |
| 7. 设置页面按钮样式验证 | PASS | - |
| 8. 历史价格查询时间选择验证 | PASS | - |
| 9. API 响应验证 | PASS | - |

## 总结

所有测试用例均已通过，功能实现符合要求：
1. ✅ 所有页面标题与导航栏一致
2. ✅ 全局按钮样式统一为"编辑""使用""删除"
3. ✅ 历史价格查询增加时间选择功能，默认查询近20天
